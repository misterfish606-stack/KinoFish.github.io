<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ó–∞ –ø—Ä–∏–≥–æ—Ä—à–Ω—é –¥–æ–ª–ª–∞—Ä–æ–≤ (1964)</title>

<style>
body{
  margin:0;
  font-family:Georgia, serif;
  background:linear-gradient(to bottom,#3a2c1a,#1a1208);
  color:#f5e6c4;
}

.container{
  display:flex;
  gap:40px;
  padding:40px;
}

.poster img{
  width:260px;
  border-radius:10px;
  box-shadow:0 0 20px black;
}

.info h1{
  margin-top:0;
}

button{
  padding:10px 20px;
  background:#8b5a2b;
  border:none;
  color:white;
  cursor:pointer;
  border-radius:5px;
  font-size:16px;
}

button:hover{
  background:#a0522d;
}

.rating span{
  font-size:22px;
  cursor:pointer;
  color:gray;
}

.rating span.active{
  color:gold;
}

.comments{
  margin-top:30px;
}

.comment{
  background:#2b1b10;
  padding:10px;
  margin-top:10px;
  border-radius:5px;
}
iframe{
  margin:40px;
  border-radius:10px;
  box-shadow:0 0 25px black;
}
</style>
</head>
<body>

<div class="container">

  <div class="poster">
    <img src="https://ru-images.kinorium.com/movie/1080/54934.jpg?1754296715">
  </div>

  <div class="info">
    <h1>–ó–∞ –ø—Ä–∏–≥–æ—Ä—à–Ω—é –¥–æ–ª–ª–∞—Ä–æ–≤ (1964)</h1>
    <p><b>–û—Ä–∏–≥–∏–Ω–∞–ª:</b> Per un pugno di dollari</p>
    <p><b>–°—Ç—Ä–∞–Ω–∞:</b> –ò—Ç–∞–ª–∏—è, –ò—Å–ø–∞–Ω–∏—è, –§–†–ì</p>
    <p><b>–ñ–∞–Ω—Ä:</b> –í–µ—Å—Ç–µ—Ä–Ω</p>
    <p><b>–†–µ–∂–∏—Å—Å—ë—Ä:</b> –°–µ—Ä–¥–∂–∏–æ –õ–µ–æ–Ω–µ</p>
    <p><b>–í —Ä–æ–ª—è—Ö:</b> –ö–ª–∏–Ω—Ç –ò—Å—Ç–≤—É–¥</p>

    <p><b>–ü—Ä–æ—Å–º–æ—Ç—Ä—ã:</b> <span id="views">0</span></p>

    <button onclick="addView()">üé¨ –°–º–æ—Ç—Ä–µ—Ç—å</button>

    <div class="rating">
      <p><b>–û—Ü–µ–Ω–∏—Ç—å:</b></p>
      <span onclick="rate(1)">‚òÖ</span>
      <span onclick="rate(2)">‚òÖ</span>
      <span onclick="rate(3)">‚òÖ</span>
      <span onclick="rate(4)">‚òÖ</span>
      <span onclick="rate(5)">‚òÖ</span>
      <p>–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: <span id="ratingValue">0</span></p>
    </div>

  </div>
</div>

<center>
<iframe width="900" height="500"
src="https://www.youtube.com/embed/YOUTUBE_ID"
allowfullscreen>
</iframe>
</center>

<div class="comments" style="padding:40px;">
  <h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h2>

  <input type="text" id="username" placeholder="–í–∞—à–µ –∏–º—è">
  <br><br>
  <textarea id="commentText" placeholder="–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π"></textarea>
  <br><br>
  <button onclick="addComment()">–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</button>

  <div id="commentList"></div>
</div>

<script>
let views = localStorage.getItem("fist_views") || 0;
let rating = localStorage.getItem("fist_rating") || 0;
let votes = localStorage.getItem("fist_votes") || 0;
let comments = JSON.parse(localStorage.getItem("fist_comments")) || [];

document.getElementById("views").innerText = views;
document.getElementById("ratingValue").innerText = Number(rating).toFixed(1);

function addView(){
  views++;
  localStorage.setItem("fist_views", views);
  document.getElementById("views").innerText = views;
}

function rate(stars){
  rating = (rating * votes + stars) / (Number(votes) + 1);
  votes++;
  localStorage.setItem("fist_rating", rating);
  localStorage.setItem("fist_votes", votes);
  document.getElementById("ratingValue").innerText = rating.toFixed(1);
}

function addComment(){
  let user = document.getElementById("username").value;
  let text = document.getElementById("commentText").value;

  if(user && text){
    comments.push({user, text});
    localStorage.setItem("fist_comments", JSON.stringify(comments));
    renderComments();
  }
}

function renderComments(){
  let list = document.getElementById("commentList");
  list.innerHTML = "";

  comments.forEach(c=>{
    list.innerHTML += `
      <div class="comment">
        <b>${c.user}</b>
        <p>${c.text}</p>
      </div>
    `;
  });
}

renderComments();
</script>

</body>
</html>
