<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–•–æ—Ä–æ—à–∏–π, –ø–ª–æ—Ö–æ–π, –∑–ª–æ–π (1966) | –ö–æ–≤–±–æ–π—Å–∫–∏–π –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä</title>

<style>
body{margin:0;font-family:'Arial Black',sans-serif;background:#1b0000;color:#eee;overflow-x:hidden;}
.wrapper{width:65%;margin:0 auto;padding-bottom:50px;position:relative;}
.slider{position:relative;margin-top:20px;overflow:hidden;border-radius:10px;height:180px;background:#220000;padding:10px;box-shadow:0 0 15px #900;}
.slides{display:flex;transition:0.5s;height:100%;}
.slides img{width:32%;margin-right:2%;border-radius:5px;cursor:pointer;transition:0.3s;border:2px solid #550000;}
.slides img:hover{transform:scale(1.05);border-color:#ff6600;}
.prev,.next{position:absolute;top:50%;transform:translateY(-50%);background:#330000;border:none;color:white;font-size:20px;padding:8px;cursor:pointer;border-radius:5px;}
.prev{left:5px;} .next{right:5px;}
.lightbox{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);display:none;justify-content:center;align-items:center;z-index:999;}
.lightbox img{max-width:90%;max-height:90%;animation:zoom 0.4s ease;}
@keyframes zoom{from{transform:scale(0.7);opacity:0;} to{transform:scale(1);opacity:1;}}
.top{display:flex;gap:30px;margin-top:30px;}
.poster img{width:250px;border-radius:10px;box-shadow:0 0 20px #900;}
.description{margin-top:30px;line-height:1.6;padding:10px;background:#220000;border-radius:10px;box-shadow:0 0 15px #900;}
.video-container{position:relative;margin-top:30px;}
.video-container iframe{width:100%;max-height:500px;border-radius:10px;box-shadow:0 0 25px #900;}
.controls{display:flex;gap:10px;margin-top:10px;flex-wrap:wrap;}
button, select{padding:8px 12px;background:#330000;color:white;border:1px solid #aa0000;border-radius:5px;cursor:pointer;}
button:hover, select:hover{background:#660000;}
input[type="range"]{accent-color:#aa0000;}
.comments{margin-top:50px;}
.comment{background:#140000;padding:10px;margin-top:15px;border-left:4px solid #aa0000;border-radius:5px;opacity:0;transform:translateY(10px);animation:fadeIn 0.5s forwards;}
.comment .avatar{width:30px;height:30px;vertical-align:middle;border-radius:3px;margin-right:5px;}
.replies .comment{background:#220000;margin-top:5px;}
@keyframes fadeIn{to{opacity:1;transform:translateY(0);}}
.stars{margin-top:10px;}
.star{font-size:20px;color:#550000;cursor:pointer;}
.star.selected{color:gold;}
#avgRating{font-size:18px;color:gold;margin-bottom:10px;}
body::after{content:"";position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;background:url('https://i.imgur.com/5b5v0xz.png') repeat;opacity:0.1;animation:moveDust 20s linear infinite;}
@keyframes moveDust{0%{background-position:0 0;}100%{background-position:1000px 1000px;}}
.cowboy-decor{position:absolute;top:10px;right:10px;width:50px;animation:spin 5s linear infinite;}
@keyframes spin{from{transform:rotate(0deg);} to{transform:rotate(360deg);}}
</style>
</head>

<body>
<div class="wrapper">

<!-- –°–ª–∞–π–¥–µ—Ä -->
<div class="slider">
<div class="slides" id="slides">
<img src="images/shot1.jpg" onclick="openLightbox(this.src)">
<img src="images/shot2.jpg" onclick="openLightbox(this.src)">
<img src="images/shot3.jpg" onclick="openLightbox(this.src)">
</div>
<button class="prev" onclick="moveSlide(-1)">‚ùÆ</button>
<button class="next" onclick="moveSlide(1)">‚ùØ</button>
</div>

<div class="lightbox" id="lightbox" onclick="closeLightbox()">
<img id="lightboxImg">
</div>

<!-- –ü–æ—Å—Ç–µ—Ä –∏ –∏–Ω—Ñ–æ -->
<div class="top">
<div class="poster">
<img src="images/poster.jpg">
</div>
<div>
<h2>–•–æ—Ä–æ—à–∏–π, –ø–ª–æ—Ö–æ–π, –∑–ª–æ–π (1966)</h2>
<p><b>–ó–∞—Ä—É–±–µ–∂–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:</b> The Good, the Bad and the Ugly</p>
<p><b>–°—Ç—Ä–∞–Ω—ã:</b> –ò—Ç–∞–ª–∏—è, –ò—Å–ø–∞–Ω–∏—è</p>
<p><b>–ñ–∞–Ω—Ä:</b> –í–µ—Å—Ç–µ—Ä–Ω / –≠–∫—à–Ω</p>
<p><b>–†–µ–π—Ç–∏–Ω–≥ –ö–∏–Ω–æ–ü–æ–∏—Å–∫:</b> 8.6</p>
<p><b>–†–µ–π—Ç–∏–Ω–≥ IMDb:</b> 8.8</p>
<p><b>–†–µ–∂–∏—Å—Å—ë—Ä:</b> –°–µ—Ä–¥–∂–æ –õ–µ–æ–Ω–µ</p>
<p><b>–ê–∫—Ç—ë—Ä—ã:</b> –ö–ª–∏–Ω—Ç –ò—Å—Ç–≤—É–¥, –õ–∏ –í–∞–Ω –ö–ª–∏—Ñ, –ò–ª–∞–π –£–æ–ª–ª–∞–∫</p>
</div>
</div>

<div class="description">
–§–∏–ª—å–º —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä—ë—Ö –æ—Ö–æ—Ç–Ω–∏–∫–æ–≤ –∑–∞ —Å–æ–∫—Ä–æ–≤–∏—â–∞–º–∏ –≤–æ –≤—Ä–µ–º–µ–Ω–∞ –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π –≤–æ–π–Ω—ã –≤ –°–®–ê. –ö–∞–∂–¥—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ ‚Äî –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ —Å–≤–æ–µ–π —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏ –≤—ã–∂–∏–≤–∞–Ω–∏—è: –æ–¥–∏–Ω —á–µ—Å—Ç–Ω—ã–π, –¥—Ä—É–≥–æ–π –±–µ–∑–∂–∞–ª–æ—Å—Ç–Ω—ã–π, —Ç—Ä–µ—Ç–∏–π —Ö–∏—Ç—Ä–æ—É–º–Ω—ã–π. –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å–º–∞ ‚Äî 2 —á–∞—Å–∞ 58 –º–∏–Ω—É—Ç. –ì–ª–∞–≤–Ω—ã–µ –≥–µ—Ä–æ–∏: –ë–ª–æ–Ω–¥–∏ (–•–æ—Ä–æ—à–∏–π), –ê–Ω–≥—É—Å—Ç–∏–æ (–ü–ª–æ—Ö–æ–π), –¢—É–∫–æ (–ó–ª–æ–π). –°–º–æ—Ç—Ä–µ—Ç—å –æ–Ω–ª–∞–π–Ω –≤ —Ö–æ—Ä–æ—à–µ–º –∫–∞—á–µ—Å—Ç–≤–µ.
</div>

<!-- –í–∏–¥–µ–æ -->
<div class="video-container">
<iframe id="movie" src="https://www.youtube.com/embed/0Bwxz16-T04?enablejsapi=1" allowfullscreen></iframe>
</div>

<!-- –ö–æ–Ω—Ç—Ä–æ–ª—ã -->
<div class="controls">
<button onclick="pauseMovie()">‚è∏ –ü–∞—É–∑–∞</button>
<button onclick="toggleMovie()">üñ• –û—Ç–∫—Ä—ã—Ç—å/–ó–∞–∫—Ä—ã—Ç—å</button>
<select id="qualitySelect" onchange="changeQuality()">
<option value="360">360p</option>
<option value="480">480p</option>
<option value="720" selected>720p</option>
<option value="1080">1080p</option>
</select>
<button onclick="alert('–†—É—Å—Å–∫–∏–µ —Å—É–±—Ç–∏—Ç—Ä—ã –ø–æ–∫–∞ –Ω–µ—Ç')">–†—É—Å—Å–∫–∏–µ —Å—É–±—Ç–∏—Ç—Ä—ã</button>
<input type="range" min="0" max="1" step="0.1" value="1" onchange="changeVolume(this.value)">
</div>

<!-- –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ -->
<div id="avgRating">–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: ‚≠ê0.0</div>
<div class="stars">
<span class="star" data-value="1">‚òÖ</span>
<span class="star" data-value="2">‚òÖ</span>
<span class="star" data-value="3">‚òÖ</span>
<span class="star" data-value="4">‚òÖ</span>
<span class="star" data-value="5">‚òÖ</span>
<span id="votes">(0 –∑–≤–µ–∑–¥)</span>
</div>
<p>–ü—Ä–æ—Å–º–æ—Ç—Ä—ã: <span id="views">0</span></p>

<!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ -->
<div class="comments">
<h3>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h3>
<input type="text" id="username" placeholder="–í–∞—à–µ –∏–º—è"><br>
<input type="text" id="commentInput" placeholder="–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π">
<button onclick="addComment()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
<div id="commentList"></div>
</div>

<img class="cowboy-decor" src="https://i.imgur.com/3sX4T3E.png" alt="–ö–æ–≤–±–æ–π">

<script>
// ===== –°–ª–∞–π–¥–µ—Ä =====
let index=0;
function moveSlide(step){
  let slides=document.getElementById("slides");
  let total=slides.children.length;
  index+=step;
  if(index<0) index=total-1;
  if(index>=total) index=0;
  slides.style.transform="translateX(-"+index*100+"%)";
}
function openLightbox(src){document.getElementById("lightboxImg").src=src;document.getElementById("lightbox").style.display="flex";}
function closeLightbox(){document.getElementById("lightbox").style.display="none";}

// ===== –ü—Ä–æ—Å–º–æ—Ç—Ä—ã =====
let views=localStorage.getItem("views")||0;
views=parseInt(views)+1;
document.getElementById("views").innerText=views;
localStorage.setItem("views",views);

// ===== –ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ =====
let stars = document.querySelectorAll('.star');
function loadRating(){
  let rating = parseInt(localStorage.getItem('movieRating')) || 0;
  stars.forEach((star,i)=>{star.classList.toggle('selected', i < rating);});
  document.getElementById('votes').innerText = `(${rating} –∑–≤–µ–∑–¥)`;
  document.getElementById('avgRating').innerText = `–°—Ä–µ–¥–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥: ‚≠ê${rating}.0`;
}
stars.forEach((star)=>{star.addEventListener('click',()=>{
  let val = parseInt(star.getAttribute('data-value'));
  localStorage.setItem('movieRating', val);
  loadRating();
});});
loadRating();

// ===== –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å –æ—Ç–≤–µ—Ç–∞–º–∏ =====
let comments = JSON.parse(localStorage.getItem("cinemaComments"))||[];
function renderComments(){
  const container=document.getElementById('commentList');
  container.innerHTML='';
  comments.forEach((c,index)=>{
    let div=document.createElement('div');
    div.className="comment";
    div.innerHTML=`
      <img class="avatar" src="https://i.imgur.com/7y9E9Hl.png">
      <b>${c.name}</b>: ${c.text}<br>
      <button onclick="like(${index})">üëç ${c.likes}</button>
      <button onclick="dislike(${index})">üëé ${c.dislikes}</button>
      <button onclick="reply(${index})">üí¨ –û—Ç–≤–µ—Ç–∏—Ç—å</button>
      <div class="replies" id="replies-${index}" style="margin-left:20px;"></div>
    `;
    container.appendChild(div);
    if(c.replies){
      c.replies.forEach(r=>{
        let rdiv=document.createElement('div');
        rdiv.className="comment";
        rdiv.style.background="#220000";
        rdiv.style.marginTop="5px";
        rdiv.innerHTML=`<img class="avatar" src="https://i.imgur.com/7y9E9Hl.png"><b>${r.name}</b>: ${r.text}`;
        document.getElementById(`replies-${index}`).appendChild(rdiv);
      });
    }
  });
}
function addComment(){
  let name=document.getElementById("username").value.trim();
  let text=document.getElementById("commentInput").value.trim();
  if(!name||!text)return;
  comments.push({name,text,likes:0,dislikes:0,replies:[]});
  saveAndRender();
  document.getElementById("commentInput").value='';
}
function like(i){comments[i].likes++; saveAndRender();}
function dislike(i){comments[i].dislikes++; saveAndRender();}
function reply(i){
  let replyText=prompt("–í–∞—à –æ—Ç–≤–µ—Ç:");
  let replyName=prompt("–í–∞—à–µ –∏–º—è:");
  if(!replyText||!replyName)return;
  if(!comments[i].replies) comments[i].replies=[];
  comments[i].replies.push({name:replyName,text:replyText});
  saveAndRender();
}
function saveAndRender(){localStorage.setItem("cinemaComments",JSON.stringify(comments));renderComments();}
renderComments();

// ===== –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ iframe =====
function pauseMovie(){document.getElementById('movie').contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*');}
function toggleMovie(){let iframe=document.getElementById('movie');iframe.style.display=(iframe.style.display==='none')?'block':'none';}
function changeVolume(v){document.getElementById('movie').contentWindow.postMessage(`{"event":"command","func":"setVolume","args":[${v*100}]}`,'*');}
function changeQuality(){alert('–ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ YouTube –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏');}
</script>

</body>
</html>
