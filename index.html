<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Кинотеатр</title>
<style>
body{margin:0;font-family:Georgia, serif;background:linear-gradient(to bottom,#3a2c1a,#1a1208);color:#f5e6c4;}
header{background:#1b1b1b;padding:10px;display:flex;gap:10px;}
header button{background:#5a3e1b;color:white;border:none;padding:8px 14px;cursor:pointer;}
header button:hover{background:#8b5a2b;}
.container{display:flex;gap:40px;padding:20px;}
.poster img{width:300px;border:5px solid #d4af37;box-shadow:0 0 20px black;}
h2,h3{color:#d4af37;text-shadow:2px 2px 5px black;}
a{color:#ffd700;text-decoration:none}a:hover{text-decoration:underline}
.info{max-width:700px}
textarea{width:100%;padding:10px;margin-top:10px;background:#2c1c0e;color:white;border:1px solid #d4af37;}
button.commentBtn{margin-top:8px;}
.comment{background:#2c1c0e;padding:10px;margin-top:10px;border-left:3px solid #d4af37;}
.reply{margin-left:30px;border-left:3px solid #aaa;}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);display:flex;justify-content:center;align-items:center;}
.hidden{display:none;}
.modal-box{background:#1b1b1b;padding:30px;width:400px;position:relative;border:2px solid #d4af37;}
.close{position:absolute;right:10px;top:10px;cursor:pointer;color:red;font-size:20px;}
.stars span{font-size:25px;cursor:pointer;color:#999;}
.stars span:hover{color:gold;}
</style>
</head>
<body>

<header>
  <button onclick="loadMovie('pugno')">Per un pugno di dollari</button>
  <!-- можно добавить новые фильмы сюда -->
</header>

<div class="container">
  <div class="poster" id="posterContainer">
    <!-- Постер фильма появится здесь -->
  </div>

  <div class="info" id="infoContainer">
    <p>Выберите фильм из меню сверху</p>
  </div>
</div>

<div id="modal" class="modal hidden">
  <div class="modal-box">
    <span class="close" onclick="closeModal()">✖</span>
    <textarea id="modalText"></textarea>
    <button onclick="saveReply()">Ответить</button>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script>
let currentUser = null;
let replyTo = null;

firebase.initializeApp({
  apiKey: "AIzaSyCTr1vgcuSEn_2Ebh2vC3k7sNYzvMoYlBo",
  authDomain: "kino-project-bf21c.firebaseapp.com",
  projectId: "kino-project-bf21c"
});
const db = firebase.firestore();

function loadMovie(key){
  // Здесь можно хранить данные разных фильмов
  const movies = {
    'pugno': {
      title: "Per un pugno di dollari",
      poster: "https://upload.wikimedia.org/wikipedia/en/8/8c/A_Fistful_of_Dollars.jpg",
      year: 1964,
      country: "Италия, Испания, Германия (ФРГ)",
      genre: "Вестерн",
      director: "Серджио Леоне",
      actors: "Клинт Иствуд, Джан Мария Волонте, Марианна Кох, Вольфганг Лукши, Зигхардт Рупп, Йозеф Эггер, Antonio Prieto, Хосе Кальво, Маргарита Лосано, Даниэль Мартин",
      imdb: 7.9,
      kinopoisk: 7.98,
      description: "В маленьком городке идет война между двумя влиятельными семействами, которых абсолютно не интересует закон. Герой Клинта Иствуда — человек без имени, умеющий стрелять без промаха...",
      youtube: "https://www.youtube.com/embed/Ox0H_uohPYM"
    }
  };

  const movie = movies[key];
  if(!movie) return;

  // Постер
  document.getElementById("posterContainer").innerHTML = `
    <img src="${movie.poster}" alt="${movie.title}">
    <h2>${movie.title}</h2>
  `;

  // Информация
  document.getElementById("infoContainer").innerHTML = `
    <p><b>Год выхода:</b> ${movie.year}</p>
    <p><b>Страна:</b> ${movie.country}</p>
    <p><b>Жанр:</b> ${movie.genre}</p>
    <p><b>Режиссер:</b> ${movie.director}</p>
    <p><b>В ролях:</b> ${movie.actors}</p>
    <p><b>IMDb:</b> ${movie.imdb} / <b>Кинопоиск:</b> ${movie.kinopoisk}</p>
    <p><b>Описание:</b> ${movie.description}</p>
    <h3>Фильм</h3>
    <iframe width="560" height="315" src="${movie.youtube}" allowfullscreen></iframe>
  `;
}
</script>
</body>
</html>

