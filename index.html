<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–•–æ—Ä–æ—à–∏–π, –ü–ª–æ—Ö–æ–π, –ó–ª–æ–π</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:#111;
    color:white;
}

/* ===== –ò–ù–§–û –ë–õ–û–ö ===== */
.movie{
    display:flex;
    padding:30px;
    gap:30px;
}

.movie img{
    width:300px;
    border-radius:10px;
}

.info h1{
    margin-top:0;
}

.info p{
    margin:8px 0;
    color:#ccc;
}

/* ===== –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò ===== */

.comments{
    max-width:800px;
    margin:40px auto;
}

.comment{
    background:#1e1e1e;
    padding:15px;
    border-radius:10px;
    margin-bottom:15px;
    position:relative;
}

.comment .actions{
    margin-top:10px;
    font-size:14px;
}

button{
    background:#333;
    color:white;
    border:none;
    padding:6px 12px;
    margin-right:5px;
    border-radius:6px;
    cursor:pointer;
}

button:hover{
    background:#555;
}

.reply-box{
    margin-top:10px;
    display:none;
}

textarea{
    width:100%;
    padding:10px;
    border-radius:6px;
    border:none;
    resize:none;
}

.replies{
    margin-top:15px;
    margin-left:20px;
    border-left:2px solid #333;
    padding-left:15px;
}

.likes{
    margin-right:10px;
}
</style>
</head>
<body>

<!-- ===== –ò–ù–§–û –§–ò–õ–¨–ú–ê ===== -->

<div class="movie">
    <img src="https://upload.wikimedia.org/wikipedia/en/4/45/Good_the_bad_and_the_ugly_poster.jpg">
    <div class="info">
        <h1>–•–æ—Ä–æ—à–∏–π, –ü–ª–æ—Ö–æ–π, –ó–ª–æ–π</h1>
        <p><b>–ì–æ–¥:</b> 1966</p>
        <p><b>–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:</b> The Good, the Bad and the Ugly</p>
        <p><b>–°—Ç—Ä–∞–Ω–∞:</b> –ò—Ç–∞–ª–∏—è</p>
        <p><b>–ñ–∞–Ω—Ä:</b> –í–µ—Å—Ç–µ—Ä–Ω</p>
        <p><b>–†–µ–∂–∏—Å—Å—ë—Ä:</b> –°–µ—Ä–¥–∂–æ –õ–µ–æ–Ω–µ</p>
        <p><b>–û–ø–∏—Å–∞–Ω–∏–µ:</b> –¢—Ä–∏ –æ—Ö–æ—Ç–Ω–∏–∫–∞ –∑–∞ —Å–æ–∫—Ä–æ–≤–∏—â–∞–º–∏ –∏—â—É—Ç –∑–æ–ª–æ—Ç–æ –∫–æ–Ω—Ñ–µ–¥–µ—Ä–∞—Ç–æ–≤ –≤–æ –≤—Ä–µ–º—è –ì—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–π –≤–æ–π–Ω—ã –≤ –°–®–ê.</p>
    </div>
</div>

<!-- ===== –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò ===== -->

<div class="comments">
    <h2>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h2>

    <textarea id="newComment" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."></textarea>
    <br><br>
    <button onclick="addComment()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

    <div id="commentList"></div>
</div>

<script>

let userVotes = {}; // —á—Ç–æ–±—ã 1 –ª–∞–π–∫/–¥–∏–∑–ª–∞–π–∫ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

function addComment(){
    let text = document.getElementById("newComment").value;
    if(!text) return;

    let comment = createComment(text);
    document.getElementById("commentList").appendChild(comment);
    document.getElementById("newComment").value="";
}

function createComment(text){
    let div = document.createElement("div");
    div.className="comment";

    let content = document.createElement("div");
    content.innerText=text;

    let actions = document.createElement("div");
    actions.className="actions";

    let likeBtn = document.createElement("button");
    likeBtn.innerText="üëç 0";
    let dislikeBtn = document.createElement("button");
    dislikeBtn.innerText="üëé 0";

    let replyBtn = document.createElement("button");
    replyBtn.innerText="–û—Ç–≤–µ—Ç–∏—Ç—å";

    let deleteBtn = document.createElement("button");
    deleteBtn.innerText="–£–¥–∞–ª–∏—Ç—å";

    let replies = document.createElement("div");
    replies.className="replies";

    let replyBox = document.createElement("div");
    replyBox.className="reply-box";

    let textarea = document.createElement("textarea");
    textarea.placeholder="–í–∞—à –æ—Ç–≤–µ—Ç...";

    let sendReply = document.createElement("button");
    sendReply.innerText="–û—Ç–ø—Ä–∞–≤–∏—Ç—å";

    replyBox.appendChild(textarea);
    replyBox.appendChild(sendReply);

    // ===== –õ–ê–ô–ö–ò =====

    likeBtn.onclick = function(){
        if(userVotes[div]) return;
        let count = parseInt(likeBtn.innerText.split(" ")[1]);
        likeBtn.innerText="üëç "+(count+1);
        userVotes[div]=true;
    }

    dislikeBtn.onclick = function(){
        if(userVotes[div]) return;
        let count = parseInt(dislikeBtn.innerText.split(" ")[1]);
        dislikeBtn.innerText="üëé "+(count+1);
        userVotes[div]=true;
    }

    // ===== –û–¢–í–ï–¢ =====

    replyBtn.onclick = function(){
        replyBox.style.display="block";
    }

    sendReply.onclick = function(){
        if(!textarea.value) return;
        let reply = createComment(textarea.value);
        replies.appendChild(reply);
        textarea.value="";
        replyBox.style.display="none";
    }

    deleteBtn.onclick = function(){
        div.remove();
    }

    actions.appendChild(likeBtn);
    actions.appendChild(dislikeBtn);
    actions.appendChild(replyBtn);
    actions.appendChild(deleteBtn);

    div.appendChild(content);
    div.appendChild(actions);
    div.appendChild(replyBox);
    div.appendChild(replies);

    return div;
}

</script>

</body>
</html>
